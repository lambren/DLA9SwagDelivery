(this.webpackJsonptablet_delivery=this.webpackJsonptablet_delivery||[]).push([[0],{51:function(e,t,r){},52:function(e,t,r){},58:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r(0),a=r.n(c),o=r(10),i=r.n(o),s=(r(51),r(52),r.p+"static/media/AmazonLogo.838dfb68.jpg"),d=r(6),j=Object(d.b)({key:"routeState",default:"SCAN_PAGE"}),l=Object(d.b)({key:"orderState",default:[]}),b=r(79),u=r(80),O=r(77),h=r(75),x=Object(h.a)({headerRoot:{fontWeight:"bold",color:"rgb(28, 167, 226)",padding:"0.5em",borderBottom:"solid rgb(196, 196, 196) 1px"},paperRoot:{padding:"2em"},textInputRoot:{margin:"2em",minWidth:"300px",padding:"1em",borderRadius:"3px",border:"solid 1px rgb(196, 196, 196)"},leftTextAlign:{textAlign:"left",padding:"0.5em",position:"relative"},themeBackgroud:{backgroundColor:"rgb(28, 167, 226)"},loadingOverlay:{backgroundColor:"rgba(255,255,255,0.8)",zIndex:"10000",position:"absolute",width:"100%"},successBackground:{backgroundColor:"#5cffc0",color:"#1fab65",padding:"2em"},errorBackground:{backgroundColor:"#ffa6a6",color:"#bd0b0b",padding:"2em"}}),f=r(76),p=function(e){var t=x();return Object(n.jsxs)(f.a,{container:!0,justify:"flex-start",align:"flex-start",classes:{root:t.leftTextAlign},direction:"column",children:[Object(n.jsx)(O.a,{variant:"body1",color:"textSecondary",children:"Welcome to DLA9 $WAG Store Last Mile App"}),Object(n.jsx)(O.a,{variant:"body1",color:"textSecondary",children:"This App is used for confirming and marking orders as 'DELIVERED'"}),Object(n.jsx)(O.a,{variant:"body1",color:"textSecondary",children:"It will also put a timestamp as a proof of delivery"}),Object(n.jsx)(O.a,{variant:"body1",color:"textSecondary",children:"If you are getting network issues, please open a new tab"}),Object(n.jsx)(O.a,{variant:"body1",color:"textSecondary",children:"Type '1.1.1.1' into the address bar, and hit enter"}),Object(n.jsx)(O.a,{variant:"body1",color:"textSecondary",children:"You will be taken to the Amazon network sign-in page"}),Object(n.jsx)(O.a,{variant:"body1",color:"textSecondary",children:"Once you have signed-in to the network, come back to this page"})]})},g=r(12),m=r.n(g),v=r(29),y=r(3),S=r(78),k="https://tranquil-meadow-63605.herokuapp.com/",C=r(32),A=function(e){var t=Object(C.b)().enqueueSnackbar,r=Object(c.useState)(""),a=Object(y.a)(r,2),o=a[0],i=a[1],s=Object(c.useState)(!1),b=Object(y.a)(s,2),u=b[0],O=b[1],h=Object(d.f)(j),f=Object(d.f)(l),p=Object(c.createRef)();Object(c.useEffect)((function(){p.current&&p.current.focus()}));var g=x(),A=function(){var e=Object(v.a)(m.a.mark((function e(r){var n,c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){i(""),O(!1)},r.preventDefault(),O(!0),e.prev=3,e.next=6,fetch(k+"get-carts-by-qr/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qrcode:o})});case 6:return c=e.sent,e.next=9,c.json();case 9:"SUCCESS"===(a=e.sent).status?(f(a.data),h("CONFIRM_PAGE")):(t("No orders found",{variant:"error"}),n()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),t("Network Error. Please Sign-in to amzn-internet Wifi",{variant:"error"}),n();case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{children:u?Object(n.jsx)(S.a,{}):Object(n.jsx)("form",{onSubmit:A,children:Object(n.jsx)("input",{ref:p,value:o,onChange:function(e){return i(e.target.value)},placeholder:"Scan Order To Begin",className:g.textInputRoot})})})},w=function(e){var t=x();return Object(n.jsx)(b.a,{children:Object(n.jsxs)(u.a,{classes:{root:t.paperRoot},children:[Object(n.jsx)(O.a,{variant:"h4",color:"primary",classes:{root:t.headerRoot},children:"DLA9 $WAG Store Last Mile"}),Object(n.jsx)(p,{}),Object(n.jsx)(A,{})]})})},R=r(81),T=function(e){var t=x(),r=e.order;return Object(n.jsxs)(f.a,{item:!0,container:!0,alignItems:"center",children:[Object(n.jsx)(R.a,{hidden:!0,className:t.loadingOverlay,children:Object(n.jsx)(f.a,{item:!0,container:!0,justify:"center",align:"center",children:Object(n.jsx)(S.a,{})})}),Object(n.jsx)(f.a,{item:!0,xs:8,children:Object(n.jsx)(O.a,{variant:"body1",children:r.swag_name})}),Object(n.jsx)(f.a,{item:!0,xs:2,children:Object(n.jsxs)(O.a,{variant:"body1",children:["x ",r.quantity]})})]})},I=function(e){var t=x(),r=Object(d.d)(l);return Object(n.jsxs)(f.a,{container:!0,spacing:2,className:t.leftTextAlign,children:[Object(n.jsxs)(f.a,{item:!0,container:!0,alignItems:"center",children:[Object(n.jsx)(f.a,{item:!0,xs:8,children:Object(n.jsx)(O.a,{variant:"h6",children:"Item"})}),Object(n.jsx)(f.a,{item:!0,xs:2,children:Object(n.jsx)(O.a,{variant:"h6",children:"Qty"})})]}),r.map((function(e){return Object(n.jsx)(T,{order:e},e.cart_id)}))]})},N=Object(d.c)({key:"cartState",get:function(e){return(0,e.get)(l).map((function(e){return e.cart_id}))}}),E=function(e){var t=x(),r=e.success;return Object(n.jsxs)("div",{children:[" ",r?Object(n.jsx)("div",{children:Object(n.jsx)(u.a,{className:t.successBackground,children:Object(n.jsx)(O.a,{variant:"h5",color:"inherit",children:"Successfully Delivered Orders!"})})}):Object(n.jsx)("div",{children:Object(n.jsx)(u.a,{className:t.errorBackground,children:Object(n.jsx)(O.a,{variant:"h5",color:"inherit",children:"Failed To Deliver Orders. Please check the Associates' Order and Login!"})})})]})},B=function(e){var t=x(),r=Object(c.createRef)();Object(c.useEffect)((function(){r.current&&r.current.focus()}));var a=Object(c.useState)(""),o=Object(y.a)(a,2),i=o[0],s=o[1],b=Object(c.useState)(!1),u=Object(y.a)(b,2),O=u[0],h=u[1],f=Object(c.useState)(!1),p=Object(y.a)(f,2),g=p[0],m=p[1],v=Object(c.useState)(!1),C=Object(y.a)(v,2),A=C[0],w=C[1],R=Object(d.e)(j),T=Object(d.e)(l),I=Object(d.d)(N),B=function(e){e.preventDefault(),h(!0),fetch(k+"deliver-orders/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:i,carts:I})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?w(!0):w(!1)})).catch((function(e){w(!1)})).finally((function(){h(!1),m(!0),setTimeout((function(){R(),T()}),5e3)}))};return Object(n.jsxs)("div",{children:[" ",O?Object(n.jsx)(S.a,{}):g?Object(n.jsx)(E,{success:A}):Object(n.jsx)("form",{onSubmit:B,children:Object(n.jsx)("input",{ref:r,value:i,onChange:function(e){return s(e.target.value)},className:t.textInputRoot,placeholder:"Scan Badge To Confirm Delivery"})})]})},D=function(e){var t=x();return Object(n.jsx)(b.a,{children:Object(n.jsxs)(u.a,{classes:{root:t.paperRoot},children:[Object(n.jsx)(O.a,{variant:"h4",color:"primary",classes:{root:t.headerRoot},children:"Confirm Orders"}),Object(n.jsx)(I,{}),Object(n.jsx)(B,{})]})})};var L=function(){var e=Object(d.d)(j);return Object(n.jsxs)("div",{className:"App",children:[function(){switch(e){case"CONFIRM_PAGE":return Object(n.jsx)(D,{});default:return Object(n.jsx)(w,{})}}(),Object(n.jsx)("img",{src:s,alt:""})]})},P=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,84)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),n(e),c(e),a(e),o(e)}))};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(d.a,{children:Object(n.jsx)(C.a,{children:Object(n.jsx)(L,{})})})}),document.getElementById("root")),P()}},[[58,1,2]]]);
//# sourceMappingURL=main.ac12c9c5.chunk.js.map